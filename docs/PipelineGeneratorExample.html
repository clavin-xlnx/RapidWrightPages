

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-117897999-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>RapidWright PipelineGenerator Example &mdash; RapidWright 2022.2.2-beta documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/RapidWrightGear32.ico"/>
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="RapidWright PipelineGeneratorWithRouting Example" href="PipelineGeneratorExampleWithRouting.html" />
    <link rel="prev" title="Build an IP Integrator Design with Pre-Implemented Blocks" href="IPI_PreImpl_Tutorial.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

		  
		  
            
            <a href="http://rapidwright.io"><img src="_static/rwlogo_xsm_black.png" class="logo" alt="Logo"/></a><br/>
          
		  
          
            <a href="index.html" class="icon icon-home"> RapidWright Docs
          
          </a>
		  
          
            
            
              <div class="version">
                2022.2.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="Getting_Started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="FPGA_Architecture.html">FPGA Architecture Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="Xilinx_Architecture.html">Xilinx Architecture Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="RapidWright_Overview.html">RapidWright Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="Design_Checkpoints.html">Design Checkpoints</a></li>
<li class="toctree-l1"><a class="reference internal" href="Implementation_Basics.html">Implementation Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="Merge_Designs.html">Merging Designs</a></li>
<li class="toctree-l1"><a class="reference internal" href="Bitstream_Manipulation.html">Bitstream Manipulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="Papers.html">RapidWright Publications</a></li>
<li class="toctree-l1"><a class="reference internal" href="PreImplemented_Module_Flow.html">A Pre-implemented Module Flow</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="Tutorials.html">RapidWright Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="RWRoute_timing_driven_routing.html">RWRoute Timing-driven Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="RWRoute_wirelength_driven_routing.html">RWRoute Wirelength-driven Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="RWRoute_partial_routing.html">RWRoute Partial Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="ReportTimingExample.html">RapidWright Report Timing Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="SLR_Crosser_DCP_Creator_Tutorial.html">Create Placed and Routed DCP to Cross SLR</a></li>
<li class="toctree-l2"><a class="reference internal" href="IPI_PreImpl_Tutorial.html">Build an IP Integrator Design with Pre-Implemented Blocks</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">RapidWright PipelineGenerator Example</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#input-parameters">Input Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#background">Background</a></li>
<li class="toctree-l3"><a class="reference internal" href="#steps-to-run">Steps to Run</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-design">Example Design</a></li>
<li class="toctree-l3"><a class="reference internal" href="#additional-exercises">Additional Exercises</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="PipelineGeneratorExampleWithRouting.html">RapidWright PipelineGeneratorWithRouting Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="PreImplemented_Modules_Part_I.html">Pre-implemented Modules - Part I</a></li>
<li class="toctree-l2"><a class="reference internal" href="PreImplemented_Modules_Part_II.html">Pre-implemented Modules - Part II</a></li>
<li class="toctree-l2"><a class="reference internal" href="Create_and_Use_an_SLR_Bridge.html">Create and Use an SLR Bridge</a></li>
<li class="toctree-l2"><a class="reference internal" href="FPGA19_Workshop.html">RapidWright FPGA 2019 Deep Dive Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="FCCM19_Workshop.html">RapidWright FCCM 2019 Workshop</a></li>
<li class="toctree-l2"><a class="reference internal" href="FPL19_Tutorial.html">RapidWright FPL 2019 Tutorial</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Tech_Articles.html">Tech Articles</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
		<div class="download-links">
			<br/>
			<br/>
			<center>
				<a href="RapidWright.pdf">Download PDF<br/><img src="_static/pdf.svg"/></a>
				<br/>
				<br/>
				<br/>
				<a href="../javadoc/index.html">Javadoc API Reference<br/><img src="_static/javadoc.svg"/></a>
			</center>
		</div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">RapidWright Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="Tutorials.html">RapidWright Tutorials</a> &raquo;</li>
        
      <li>RapidWright PipelineGenerator Example</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/PipelineGeneratorExample.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rapidwright-pipelinegenerator-example">
<h1>RapidWright PipelineGenerator Example<a class="headerlink" href="#rapidwright-pipelinegenerator-example" title="Permalink to this headline">¶</a></h1>
<p>Generates a placed and routed circuit of flops that form a pipelined bus (think 2-D array of flops) having parameterizable spacing between pipeline stages.  The generated .dcp file can be loaded into Vivado to view.</p>
<div class="section" id="input-parameters">
<h2>Input Parameters<a class="headerlink" href="#input-parameters" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Width (bits)</p></li>
<li><p>Depth (pipeline stages)</p></li>
<li><p>Distance (tiles)</p></li>
<li><p>Direction (horizontal or vertical)</p></li>
</ul>
</div>
<div class="section" id="background">
<h2>Background<a class="headerlink" href="#background" title="Permalink to this headline">¶</a></h2>
<p>The selected device is a Xilinx VU3P (UltraScale+ device).</p>
<p>Figure 1-3 on pg. 8 of user guide UG574 shows the FFs contained within an UltraScale+ CLB (similar to UltraScale devices).  Please see: <a class="reference external" href="https://www.xilinx.com/support/documentation/user_guides/ug574-ultrascale-clb.pdf">https://www.xilinx.com/support/documentation/user_guides/ug574-ultrascale-clb.pdf</a> for more description.</p>
<a class="reference internal image-reference" href="_images/ug574_fig1_3_clb_ffs.png"><img alt="_images/ug574_fig1_3_clb_ffs.png" class="align-center" src="_images/ug574_fig1_3_clb_ffs.png" style="width: 374px;" /></a>
<p>In this example, the PipelineGenerator places flops (instantiated as FDRE) by specifying slice locations and the individual FF BEL sites that are within each slice. These are grouped in pairs and referenced by a letter.  Please note that each letter contains a pair of FFs.</p>
</div>
<div class="section" id="steps-to-run">
<h2>Steps to Run<a class="headerlink" href="#steps-to-run" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Ensure you are familiar with the RapidWright directories and have an IDE project created for RapidWright.  Using an IDE such as IntelliJ or Eclipse is highly recommended for exercises in this tutorial for easy compilation and for help with the RapidWright libraries and functions.  While we don’t provide any IDE “how to” steps within this tutorial, if you do have questions please feel free to ask.</p></li>
<li><p>If you need to recompile the code, run: <code class="docutils literal notranslate"><span class="pre">javac</span> <span class="pre">com/xilinx/rapidwright/examples/PipelineGenerator.java</span></code> from within your “&lt;workspace_dir&gt;/RapidWright” subdirectory.  Alternatively, build this example using your IDE.</p></li>
<li><p>After compiling, run: <code class="docutils literal notranslate"><span class="pre">java</span> <span class="pre">com.xilinx.rapidwright.examples.PipelineGenerator</span></code>.  This will generate an output called “pipeline.dcp”, containing the placed and routed circuit design.</p></li>
<li><p>To see a list of available input options specify “-h” as an argument.  Note: the horizontal direction is assigned within the source code, but it can alternatively be changed to vertical within main().  The source code for this example is located in: <code class="docutils literal notranslate"><span class="pre">&lt;workspace_dir&gt;/RapidWright/com/xilinx/rapidwright/examples/PipelineGenerator.java</span></code>.</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>==============================================================================
==                            Pipeline Generator                            ==
==============================================================================
This RapidWright program creates an example pipelined bus as a placed and routed DCP.
See the RapidWright documentation for more information.

Option                                   Description
------                                   -----------
-?, -h                                   Print Help
-c [String: Clk net name]                (default: clk)
-d [String: Design Name]                 (default: pipeline)
-l [Integer: distance]                   (default: 10)
-m [Integer: depth]                      (default: 3)
-n [Integer: width]                      (default: 10)
-o [String: Output DCP File Name]        (default: pipeline.dcp)
-p [String: Ultrascale/UltraScale+       (default: xcvu3p-ffvc1517-2-e)
Part Name]
-s [String: Lower left slice to be       (default: SLICE_X42Y70)
used for pipeline]
-v [Boolean: Print verbose output]       (default: true)
-x [Double: Clk period constraint (ns)]  (default: 1.291)
</pre></div>
</div>
</div>
<div class="section" id="example-design">
<h2>Example Design<a class="headerlink" href="#example-design" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Width = 10 bits</p></li>
<li><p>Depth = 3 pipeline stages</p></li>
<li><p>Distance = 10 tiles</p></li>
<li><p>Direction = horizontal</p></li>
</ul>
<a class="reference internal image-reference" href="_images/vivado_pipeline_dcp_schematic.png"><img alt="_images/vivado_pipeline_dcp_schematic.png" class="align-center" src="_images/vivado_pipeline_dcp_schematic.png" style="width: 710px;" /></a>
<a class="reference internal image-reference" href="_images/vivado_pipeline_dcp_device_view_horizontal.png"><img alt="_images/vivado_pipeline_dcp_device_view_horizontal.png" class="align-center" src="_images/vivado_pipeline_dcp_device_view_horizontal.png" style="width: 1215px;" /></a>
<p>The above screenshot show the device view, zoomed in on the placed and routed circuit.  This circuit consists of three pairs of slices, using the &lt;horizontal&gt; spacing distance of &lt;10&gt; tiles.</p>
<p>Although each CLB FF letter site contains a pair of flops, as described above, this example only makes use of the first flop in each pair, as a demo.  This means that the lower slice for each of the pairs uses eight flops, and the upper slice uses two flops to satisfy the &lt;width&gt; request of ten bits.  This was done intentionally towards setting up an example that could be easily modified to use both of the flops in the pair.  The screenshot below shows a zoomed in view of the lower slice.</p>
<a class="reference internal image-reference" href="_images/vivado_pipeline_dcp_device_view_zoomed.png"><img alt="_images/vivado_pipeline_dcp_device_view_zoomed.png" class="align-center" src="_images/vivado_pipeline_dcp_device_view_zoomed.png" style="width: 496px;" /></a>
<p>Please refer to the example code for more implementation details.  The Java source code for this example is located in: <code class="docutils literal notranslate"><span class="pre">&lt;workspace_dir&gt;/RapidWright/com/xilinx/rapidwright/examples/PipelineGenerator.java</span></code>.</p>
<p>This example was designed to illustrate basic functions, and please feel free to modify this example to experiment building other implementations.</p>
</div>
<div class="section" id="additional-exercises">
<h2>Additional Exercises<a class="headerlink" href="#additional-exercises" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Try modifying the PipelineGenerator to use all 16 flip flops in an UltraScale slice, this will lead to a more compact usage of CLBs at the potential expense of greater routing congestion.</p></li>
</ol>
<a class="reference internal image-reference" href="_images/pipelinegenerator_using_all_16_flops.png"><img alt="_images/pipelinegenerator_using_all_16_flops.png" class="align-center" src="_images/pipelinegenerator_using_all_16_flops.png" style="width: 583px;" /></a>
<p>Hint: When using all sixteen flops or designs with higher bit widths, the minimum distance should be at least 10 tiles for routing.</p>
<ol class="arabic simple" start="2">
<li><p>This example of a PipelineGenerator is ideal for creating a long haul pipelined bus connection at high speed.  This would be useful in connecting two modules physically distant on a device but need to communicate at high speed.  Currently, the implementation can only pipeline in a single plane (horizontal or vertical).  Modify the example such that it can pipeline both vertically and horizontally.</p></li>
</ol>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="PipelineGeneratorExampleWithRouting.html" class="btn btn-neutral float-right" title="RapidWright PipelineGeneratorWithRouting Example" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="IPI_PreImpl_Tutorial.html" class="btn btn-neutral" title="Build an IP Integrator Design with Pre-Implemented Blocks" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018-2023, Advanced Micro Devices, Inc.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2022.2.2-beta',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/language_data.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
      <script type="text/javascript" src="_static/copybutton.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>